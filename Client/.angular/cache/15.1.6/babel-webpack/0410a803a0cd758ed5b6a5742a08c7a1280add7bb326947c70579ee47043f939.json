{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction FetchDataComponent_tr_16_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.lastName, \" \");\n  }\n}\nfunction FetchDataComponent_tr_16_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 10);\n  }\n}\nfunction FetchDataComponent_tr_16_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.firstName, \" \");\n  }\n}\nfunction FetchDataComponent_tr_16_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 11);\n  }\n}\nfunction FetchDataComponent_tr_16_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.email, \" \");\n  }\n}\nfunction FetchDataComponent_tr_16_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 12);\n  }\n}\nfunction FetchDataComponent_tr_16_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function FetchDataComponent_tr_16_ng_container_16_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.editItem(item_r1));\n    });\n    i0.ɵɵtext(2, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function FetchDataComponent_tr_16_ng_container_16_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.deleteItem(item_r1));\n    });\n    i0.ɵɵtext(4, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction FetchDataComponent_tr_16_ng_container_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function FetchDataComponent_tr_16_ng_container_17_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.saveItem(item_r1));\n    });\n    i0.ɵɵtext(2, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function FetchDataComponent_tr_16_ng_container_17_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.cancelEdit());\n    });\n    i0.ɵɵtext(4, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction FetchDataComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtemplate(4, FetchDataComponent_tr_16_ng_container_4_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵtemplate(5, FetchDataComponent_tr_16_ng_template_5_Template, 1, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtemplate(8, FetchDataComponent_tr_16_ng_container_8_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵtemplate(9, FetchDataComponent_tr_16_ng_template_9_Template, 1, 0, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtemplate(12, FetchDataComponent_tr_16_ng_container_12_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵtemplate(13, FetchDataComponent_tr_16_ng_template_13_Template, 1, 0, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtemplate(16, FetchDataComponent_tr_16_ng_container_16_Template, 5, 0, \"ng-container\", 9);\n    i0.ɵɵtemplate(17, FetchDataComponent_tr_16_ng_container_17_Template, 5, 0, \"ng-container\", 9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const _r3 = i0.ɵɵreference(6);\n    const _r6 = i0.ɵɵreference(10);\n    const _r9 = i0.ɵɵreference(14);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedItem !== item_r1)(\"ngIfElse\", _r3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedItem !== item_r1)(\"ngIfElse\", _r6);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedItem !== item_r1)(\"ngIfElse\", _r9);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedItem !== item_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedItem === item_r1);\n  }\n}\nexport class FetchDataComponent {\n  constructor(http, baseUrl, fb) {\n    this.http = http;\n    this.baseUrl = baseUrl;\n    this.fb = fb;\n  }\n  ngOnInit() {\n    this.loadData();\n    this.initNewItemForm();\n  }\n  loadData() {\n    this.http.get(this.baseUrl + 'emploee/getAll').subscribe(data => {\n      this.data = data;\n    });\n  }\n  initNewItemForm() {\n    this.newItemForm = this.fb.group({\n      newLastName: ['', Validators.required],\n      newFirstName: ['', Validators.required],\n      newEmail: ['', [Validators.required, Validators.email]]\n    });\n  }\n  editItem(item) {\n    this.selectedItem = item;\n  }\n  saveItem(item) {\n    // Отправить PUT-запрос на сервер для обновления элемента\n    this.http.put(this.baseUrl + 'emploee/update', item).subscribe(() => {\n      this.selectedItem = null;\n    });\n  }\n  cancelEdit() {\n    this.selectedItem = null;\n  }\n  deleteItem(item) {\n    // Отправить DELETE-запрос на сервер для удаления элемента\n    this.http.delete('http://example.com/api/data/' + item.id).subscribe(() => {\n      this.data = this.data.filter(i => i.id !== item.id);\n    });\n  }\n  addItem() {\n    if (this.newItemForm.valid) {\n      const newItem = {\n        lastName: this.newItemForm.get('newLastName')?.value,\n        firstName: this.newItemForm.get('newFirstName')?.value,\n        email: this.newItemForm.get('newEmail')?.value\n      };\n      // Отправить POST-запрос на сервер для создания нового элемента\n      this.http.post(this.baseUrl + 'emploee/add', newItem).subscribe(response => {\n        newItem.id = response.id;\n        this.data.push(newItem);\n        this.newItemForm.reset();\n      });\n    }\n  }\n}\nFetchDataComponent.ɵfac = function FetchDataComponent_Factory(t) {\n  return new (t || FetchDataComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\nFetchDataComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FetchDataComponent,\n  selectors: [[\"app-fetch-data\"]],\n  decls: 28,\n  vars: 2,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"formControlName\", \"newLastName\"], [\"type\", \"text\", \"formControlName\", \"newFirstName\"], [\"type\", \"text\", \"formControlName\", \"newEmail\"], [3, \"disabled\", \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"editLastNameTemplate\", \"\"], [\"editFirstNameTemplate\", \"\"], [\"editEmailTemplate\", \"\"], [4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"lastName\"], [\"type\", \"text\", \"formControlName\", \"firstName\"], [\"type\", \"text\", \"formControlName\", \"email\"], [3, \"click\"]],\n  template: function FetchDataComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Data Table\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"table\")(3, \"thead\")(4, \"tr\")(5, \"th\");\n      i0.ɵɵtext(6, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"Last Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"First Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(15, \"tbody\");\n      i0.ɵɵtemplate(16, FetchDataComponent_tr_16_Template, 18, 9, \"tr\", 0);\n      i0.ɵɵelementStart(17, \"tr\");\n      i0.ɵɵelement(18, \"td\");\n      i0.ɵɵelementStart(19, \"td\");\n      i0.ɵɵelement(20, \"input\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"td\");\n      i0.ɵɵelement(22, \"input\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"td\");\n      i0.ɵɵelement(24, \"input\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"td\")(26, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function FetchDataComponent_Template_button_click_26_listener() {\n        return ctx.addItem();\n      });\n      i0.ɵɵtext(27, \"Add Item\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngForOf\", ctx.data);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"disabled\", ctx.newItemForm.invalid);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i2.DefaultValueAccessor, i2.NgControlStatus],\n  styles: [\"h1[_ngcontent-%COMP%] {\\r\\n  color: #333;\\r\\n  font-size: 24px;\\r\\n}\\r\\n\\r\\ntable[_ngcontent-%COMP%] {\\r\\n  border-collapse: collapse;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\r\\n  border: 1px solid #ccc;\\r\\n  padding: 8px;\\r\\n}\\r\\n\\r\\nth[_ngcontent-%COMP%] {\\r\\n  background-color: #f2f2f2;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n  margin-right: 5px;\\r\\n  padding: 8px 12px;\\r\\n  background-color: #007bff;\\r\\n  color: #fff;\\r\\n  border: none;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #0056b3;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%]:active {\\r\\n  background-color: #003580;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%]:focus {\\r\\n  outline: none;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%]:disabled {\\r\\n  background-color: #ccc;\\r\\n  cursor: not-allowed;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmV0Y2gtZGF0YS9mZXRjaC1kYXRhLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0VBQ1gsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsWUFBWTtBQUNkOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGlCQUFpQjtFQUNqQix5QkFBeUI7RUFDekIsV0FBVztFQUNYLFlBQVk7RUFDWixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLG1CQUFtQjtBQUNyQiIsInNvdXJjZXNDb250ZW50IjpbImgxIHtcclxuICBjb2xvcjogIzMzMztcclxuICBmb250LXNpemU6IDI0cHg7XHJcbn1cclxuXHJcbnRhYmxlIHtcclxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG50aCwgdGQge1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgcGFkZGluZzogOHB4O1xyXG59XHJcblxyXG50aCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcclxufVxyXG5cclxuYnV0dG9uIHtcclxuICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICBwYWRkaW5nOiA4cHggMTJweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbmJ1dHRvbjpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZiMztcclxufVxyXG5cclxuYnV0dG9uOmFjdGl2ZSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMzU4MDtcclxufVxyXG5cclxuYnV0dG9uOmZvY3VzIHtcclxuICBvdXRsaW5lOiBub25lO1xyXG59XHJcblxyXG5idXR0b246ZGlzYWJsZWQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XHJcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;;;ICe7DC,6BAAuE;IACrEA,YACF;IAAAA,0BAAe;;;;IADbA,eACF;IADEA,iDACF;;;;;IAEEA,4BAAgD;;;;;IAIlDA,6BAAwE;IACtEA,YACF;IAAAA,0BAAe;;;;IADbA,eACF;IADEA,kDACF;;;;;IAEEA,4BAAiD;;;;;IAInDA,6BAAoE;IAClEA,YACF;IAAAA,0BAAe;;;;IADbA,eACF;IADEA,8CACF;;;;;IAEEA,4BAA6C;;;;;;IAI/CA,6BAA4C;IAC1CA,kCAAiC;IAAzBA;MAAAA;MAAA;MAAA;MAAA,OAASA,wCAAc;IAAA,EAAC;IAACA,oBAAI;IAAAA,iBAAS;IAC9CA,kCAAmC;IAA3BA;MAAAA;MAAA;MAAA;MAAA,OAASA,0CAAgB;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAS;IACpDA,0BAAe;;;;;;IACfA,6BAA4C;IAC1CA,kCAAiC;IAAzBA;MAAAA;MAAA;MAAA;MAAA,OAASA,wCAAc;IAAA,EAAC;IAACA,oBAAI;IAAAA,iBAAS;IAC9CA,kCAA+B;IAAvBA;MAAAA;MAAA;MAAA,OAASA,mCAAY;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAS;IAChDA,0BAAe;;;;;IAlCnBA,0BAA8B;IACxBA,YAAa;IAAAA,iBAAK;IACtBA,0BAAI;IACFA,2FAEe;IACfA,0HAEc;IAChBA,iBAAK;IACLA,0BAAI;IACFA,2FAEe;IACfA,0HAEc;IAChBA,iBAAK;IACLA,2BAAI;IACFA,6FAEe;IACfA,4HAEc;IAChBA,iBAAK;IACLA,2BAAI;IACFA,6FAGe;IACfA,6FAGe;IACjBA,iBAAK;;;;;;;;IAlCDA,eAAa;IAAbA,gCAAa;IAEAA,eAA6B;IAA7BA,sDAA6B;IAQ7BA,eAA6B;IAA7BA,sDAA6B;IAQ7BA,eAA6B;IAA7BA,sDAA6B;IAQ7BA,eAA2B;IAA3BA,sDAA2B;IAI3BA,eAA2B;IAA3BA,sDAA2B;;;ADlChD,OAAM,MAAOC,kBAAkB;EAK7BC,YAAoBC,IAAgB,EAA8BC,OAAe,EAAUC,EAAe;IAAtF,SAAI,GAAJF,IAAI;IAA0C,YAAO,GAAPC,OAAO;IAAkB,OAAE,GAAFC,EAAE;EAAgB;EAE7GC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACC,eAAe,EAAE;EACxB;EAEAD,QAAQ;IACN,IAAI,CAACJ,IAAI,CAACM,GAAG,CAAQ,IAAI,CAACL,OAAO,GAAG,gBAAgB,CAAC,CAClDM,SAAS,CAACC,IAAI,IAAG;MAChB,IAAI,CAACA,IAAI,GAAGA,IAAI;IAClB,CAAC,CAAC;EACN;EAEAH,eAAe;IACb,IAAI,CAACI,WAAW,GAAG,IAAI,CAACP,EAAE,CAACQ,KAAK,CAAC;MAC/BC,WAAW,EAAE,CAAC,EAAE,EAAEf,UAAU,CAACgB,QAAQ,CAAC;MACtCC,YAAY,EAAE,CAAC,EAAE,EAAEjB,UAAU,CAACgB,QAAQ,CAAC;MACvCE,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAClB,UAAU,CAACgB,QAAQ,EAAEhB,UAAU,CAACmB,KAAK,CAAC;KACvD,CAAC;EACJ;EAEAC,QAAQ,CAACC,IAAS;IAChB,IAAI,CAACC,YAAY,GAAGD,IAAI;EAC1B;EAEAE,QAAQ,CAACF,IAAS;IAChB;IACA,IAAI,CAACjB,IAAI,CAACoB,GAAG,CAAC,IAAI,CAACnB,OAAO,GAAG,gBAAgB,EAAEgB,IAAI,CAAC,CACjDV,SAAS,CAAC,MAAK;MACd,IAAI,CAACW,YAAY,GAAG,IAAI;IAC1B,CAAC,CAAC;EACN;EAEAG,UAAU;IACR,IAAI,CAACH,YAAY,GAAG,IAAI;EAC1B;EAEAI,UAAU,CAACL,IAAS;IAClB;IACA,IAAI,CAACjB,IAAI,CAACuB,MAAM,CAAC,8BAA8B,GAAGN,IAAI,CAACO,EAAE,CAAC,CACvDjB,SAAS,CAAC,MAAK;MACd,IAAI,CAACC,IAAI,GAAG,IAAI,CAACA,IAAI,CAACiB,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACF,EAAE,KAAKP,IAAI,CAACO,EAAE,CAAC;IACrD,CAAC,CAAC;EACN;EAEAG,OAAO;IACL,IAAI,IAAI,CAAClB,WAAW,CAACmB,KAAK,EAAE;MAC1B,MAAMC,OAAO,GAAG;QACdC,QAAQ,EAAE,IAAI,CAACrB,WAAW,CAACH,GAAG,CAAC,aAAa,CAAC,EAAEyB,KAAK;QACpDC,SAAS,EAAE,IAAI,CAACvB,WAAW,CAACH,GAAG,CAAC,cAAc,CAAC,EAAEyB,KAAK;QACtDhB,KAAK,EAAE,IAAI,CAACN,WAAW,CAACH,GAAG,CAAC,UAAU,CAAC,EAAEyB;OAC1C;MAED;MACA,IAAI,CAAC/B,IAAI,CAACiC,IAAI,CAAC,IAAI,CAAChC,OAAO,GAAG,aAAa,EAAE4B,OAAO,CAAC,CAClDtB,SAAS,CAAE2B,QAAa,IAAI;QAC3BL,OAAO,CAACL,EAAE,GAAGU,QAAQ,CAACV,EAAE;QACxB,IAAI,CAAChB,IAAI,CAAC2B,IAAI,CAACN,OAAO,CAAC;QACvB,IAAI,CAACpB,WAAW,CAAC2B,KAAK,EAAE;MAC1B,CAAC,CAAC;;EAER;;AAnEWtC,kBAAkB;mBAAlBA,kBAAkB,4DAKiB,UAAU;AAAA;AAL7CA,kBAAkB;QAAlBA,kBAAkB;EAAAuC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV/B5C,0BAAI;MAAAA,0BAAU;MAAAA,iBAAK;MAEnBA,6BAAO;MAGCA,kBAAE;MAAAA,iBAAK;MACXA,0BAAI;MAAAA,yBAAS;MAAAA,iBAAK;MAClBA,0BAAI;MAAAA,2BAAU;MAAAA,iBAAK;MACnBA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MACdA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAGlBA,8BAAO;MACPA,oEAoCK;MACLA,2BAAI;MACFA,sBAAS;MACTA,2BAAI;MACFA,4BAAmD;MACrDA,iBAAK;MACLA,2BAAI;MACFA,4BAAoD;MACtDA,iBAAK;MACLA,2BAAI;MACFA,4BAAgD;MAClDA,iBAAK;MACLA,2BAAI;MACMA;QAAA,OAAS6C,aAAS;MAAA,EAAC;MAAkC7C,yBAAQ;MAAAA,iBAAS;;;MAjD7DA,gBAAO;MAAPA,kCAAO;MAiDIA,gBAAgC;MAAhCA,kDAAgC","names":["Validators","i0","FetchDataComponent","constructor","http","baseUrl","fb","ngOnInit","loadData","initNewItemForm","get","subscribe","data","newItemForm","group","newLastName","required","newFirstName","newEmail","email","editItem","item","selectedItem","saveItem","put","cancelEdit","deleteItem","delete","id","filter","i","addItem","valid","newItem","lastName","value","firstName","post","response","push","reset","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Projects\\RETHINK\\Emploee\\Client\\src\\app\\fetch-data\\fetch-data.component.ts","D:\\Projects\\RETHINK\\Emploee\\Client\\src\\app\\fetch-data\\fetch-data.component.html"],"sourcesContent":["import {Component, Inject, OnInit} from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport {Employee} from \"./interface/employee\";\r\n\r\n@Component({\r\n  selector: 'app-fetch-data',\r\n  templateUrl: './fetch-data.component.html',\r\n  styleUrls: ['./fetch-data.component.css']\r\n})\r\nexport class FetchDataComponent implements OnInit {\r\n  data!: Employee[];\r\n  selectedItem!: Employee;\r\n  newItemForm!: FormGroup;\r\n\r\n  constructor(private http: HttpClient, @Inject('BASE_URL') private baseUrl: string, private fb: FormBuilder) {}\r\n\r\n  ngOnInit() {\r\n    this.loadData();\r\n    this.initNewItemForm();\r\n  }\r\n\r\n  loadData() {\r\n    this.http.get<any[]>(this.baseUrl + 'emploee/getAll')\r\n      .subscribe(data => {\r\n        this.data = data;\r\n      });\r\n  }\r\n\r\n  initNewItemForm() {\r\n    this.newItemForm = this.fb.group({\r\n      newLastName: ['', Validators.required],\r\n      newFirstName: ['', Validators.required],\r\n      newEmail: ['', [Validators.required, Validators.email]]\r\n    });\r\n  }\r\n\r\n  editItem(item: any) {\r\n    this.selectedItem = item;\r\n  }\r\n\r\n  saveItem(item: any) {\r\n    // Отправить PUT-запрос на сервер для обновления элемента\r\n    this.http.put(this.baseUrl + 'emploee/update', item)\r\n      .subscribe(() => {\r\n        this.selectedItem = null;\r\n      });\r\n  }\r\n\r\n  cancelEdit() {\r\n    this.selectedItem = null;\r\n  }\r\n\r\n  deleteItem(item: any) {\r\n    // Отправить DELETE-запрос на сервер для удаления элемента\r\n    this.http.delete('http://example.com/api/data/' + item.id)\r\n      .subscribe(() => {\r\n        this.data = this.data.filter(i => i.id !== item.id);\r\n      });\r\n  }\r\n\r\n  addItem() {\r\n    if (this.newItemForm.valid) {\r\n      const newItem = {\r\n        lastName: this.newItemForm.get('newLastName')?.value,\r\n        firstName: this.newItemForm.get('newFirstName')?.value,\r\n        email: this.newItemForm.get('newEmail')?.value\r\n      };\r\n\r\n      // Отправить POST-запрос на сервер для создания нового элемента\r\n      this.http.post(this.baseUrl + 'emploee/add', newItem)\r\n        .subscribe((response: any) => {\r\n          newItem.id = response.id;\r\n          this.data.push(newItem);\r\n          this.newItemForm.reset();\r\n        });\r\n    }\r\n  }\r\n}\r\n","<h1>Data Table</h1>\r\n\r\n<table>\r\n  <thead>\r\n  <tr>\r\n    <th>ID</th>\r\n    <th>Last Name</th>\r\n    <th>First Name</th>\r\n    <th>Email</th>\r\n    <th>Actions</th>\r\n  </tr>\r\n  </thead>\r\n  <tbody>\r\n  <tr *ngFor=\"let item of data\">\r\n    <td>{{ item.id }}</td>\r\n    <td>\r\n      <ng-container *ngIf=\"selectedItem !== item; else editLastNameTemplate\">\r\n        {{ item.lastName }}\r\n      </ng-container>\r\n      <ng-template #editLastNameTemplate>\r\n        <input type=\"text\" formControlName=\"lastName\" />\r\n      </ng-template>\r\n    </td>\r\n    <td>\r\n      <ng-container *ngIf=\"selectedItem !== item; else editFirstNameTemplate\">\r\n        {{ item.firstName }}\r\n      </ng-container>\r\n      <ng-template #editFirstNameTemplate>\r\n        <input type=\"text\" formControlName=\"firstName\" />\r\n      </ng-template>\r\n    </td>\r\n    <td>\r\n      <ng-container *ngIf=\"selectedItem !== item; else editEmailTemplate\">\r\n        {{ item.email }}\r\n      </ng-container>\r\n      <ng-template #editEmailTemplate>\r\n        <input type=\"text\" formControlName=\"email\" />\r\n      </ng-template>\r\n    </td>\r\n    <td>\r\n      <ng-container *ngIf=\"selectedItem !== item\">\r\n        <button (click)=\"editItem(item)\">Edit</button>\r\n        <button (click)=\"deleteItem(item)\">Delete</button>\r\n      </ng-container>\r\n      <ng-container *ngIf=\"selectedItem === item\">\r\n        <button (click)=\"saveItem(item)\">Save</button>\r\n        <button (click)=\"cancelEdit()\">Cancel</button>\r\n      </ng-container>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td></td>\r\n    <td>\r\n      <input type=\"text\" formControlName=\"newLastName\" />\r\n    </td>\r\n    <td>\r\n      <input type=\"text\" formControlName=\"newFirstName\" />\r\n    </td>\r\n    <td>\r\n      <input type=\"text\" formControlName=\"newEmail\" />\r\n    </td>\r\n    <td>\r\n      <button (click)=\"addItem()\" [disabled]=\"newItemForm.invalid\">Add Item</button>\r\n    </td>\r\n  </tr>\r\n  </tbody>\r\n</table>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}